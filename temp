def convert_paddleocr_bboxes_to_rect(paddle_ocr_regions_aligned):
    """
    Converts all PaddleOCR polygon-style bboxes inside paddle_ocr_regions_aligned
    to rectangular bbox coordinates (x_min, y_min, x_max, y_max, width, height).
    """
    for region in paddle_ocr_regions_aligned:
        if "bbox" in region and isinstance(region["bbox"], dict):
            bbox = region["bbox"]
            # bbox içindeki tüm x ve y değerlerini topla
            xs = [bbox[k] for k in bbox.keys() if k.startswith("x")]
            ys = [bbox[k] for k in bbox.keys() if k.startswith("y")]

            if xs and ys:
                x_min, x_max = min(xs), max(xs)
                y_min, y_max = min(ys), max(ys)

                region["bbox"] = {
                    "x_min": x_min,
                    "y_min": y_min,
                    "x_max": x_max,
                    "y_max": y_max,
                    "width": x_max - x_min,
                    "height": y_max - y_min
                }
    return paddle_ocr_regions_aligned

paddle_ocr_regions_aligned = convert_paddleocr_bboxes_to_rect(paddle_ocr_regions_aligned)