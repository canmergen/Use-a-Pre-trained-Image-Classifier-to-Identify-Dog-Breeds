import cv2
import os
import tempfile

# Suppose you already have: final_lower_imgs = [np.ndarray, np.ndarray, ...]

temp_paths = []

# --- Save all images as temporary PNGs ---
for i, img in enumerate(final_lower_imgs):
    if img is None:
        continue
    tmp_file = tempfile.NamedTemporaryFile(suffix=".png", delete=False)
    cv2.imwrite(tmp_file.name, img)
    temp_paths.append(tmp_file.name)
    tmp_file.close()
    print(f"Saved temporary image {i} -> {tmp_file.name}")

# --- Do your OCR or other processing here ---
# (e.g., call_paddle_ocr_text_only on each path)
# for path in temp_paths: ...

# --- Delete the temporary PNG files ---
for path in temp_paths:
    try:
        os.remove(path)
        print(f"Deleted {path}")
    except Exception as e:
        print(f"Could not delete {path}: {e}")